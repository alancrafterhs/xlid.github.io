
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>网易云音乐解析</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../wyybox/layui.css"  media="all">
  <style>
  .navbar header .title,.navbar header .title a {
		text-align:center;
		padding:30px;
		font-weight:bold;
		font-size:38px;
	}
	body{
		margin-left:10%;/*居中一点点*/
		margin-right:10%;
		font-family: Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;
	}
</style>
</head>
<body>
<div class="navbar">
				<header>
				<h1 class="title"><a href="/" class="nuxt-link-exact-active nuxt-link-active">
				网易云音乐解析</a><i class="eva eva-moon-outline"></i></h1>
				</header>
</div>

<fieldset class="layui-elem-field" style="">
  <legend style="font-size:25px;font-weight:bold;">网易云音乐解析</legend>
  <div  style="width: 100%;" class="layui-field-box layui-form-item layui-inline">
	<div class="layui-input-inline"  style="width: 90%;margin-left: 0px;">
			<input type="text" id="link" placeholder="https://music.163.com/song?id=1423123512" autocomplete="off" class="layui-input">
	 </div>
  </div>
</fieldset>
<fieldset id="jieguoDiv" class="layui-elem-field" style="font-size:20px;display:none;padding:1rem 2rem 1.5rem;">
  <legend style="font-size:25px;font-weight:bold;">解析成功</legend>
  
</fieldset>
 <fieldset class="layui-elem-field" style="">
  <legend style="font-size:25px;font-weight:bold;">使用说明</legend>
		<div class="layui-field-box">
			<br><span class="layui-badge-dot layui-bg-black"></span> 上方输入想要解析的网易云音乐链接
			<br><br><span class="layui-badge-dot layui-bg-black"></span> 等待解析完毕后点击链接即可进行下载
			<br><br><span class="layui-badge-dot layui-bg-black"></span> 如果输入后没响应则是粘贴的链接有问题
			<br><br>
		</div>
</fieldset>
<script src="../layui/layui.js"></script>

<script>
layui.use(['jquery','layer'], function(){
  var $ = layui.jquery;
  var layer = layui.layer;
$("#link").bind("input propertychange", function(h) {
   	var link = $.trim($("#link").val());
	if (link == "") {
		$("#jieguoDiv").hide();
		return
	}else if(link.indexOf("http") == -1 || link.indexOf("music.163.com") == -1){
	   layer.tips('请输入正确的网易云音乐链接', '#link',{tips:3});
		$("#jieguoDiv").hide();
		return
	}
	const regex = /song\?id=(.*?)&/i;
    var str = regex.exec(link + "&");
    if(str == null){
	const regex = /song\/(.*?)\//i;
    var str = regex.exec(link);
     console.log(str); 
    }
    $("#jieguoDiv").append('<a style="color:#ff0f0f;" download="' +  str[1] +'.mp3" href="https://music.163.com/song/media/outer/url?id=' + str[1] + '">https://music.163.com/song/media/outer/url?id=' +  str[1]  + '</a>');
     $("#jieguoDiv").show();
});

});
</script>
<div style="display:none">
	<script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278860223'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1278860223%26online%3D1' type='text/javascript'%3E%3C/script%3E"));</script>
</div>
</body>
</html>
